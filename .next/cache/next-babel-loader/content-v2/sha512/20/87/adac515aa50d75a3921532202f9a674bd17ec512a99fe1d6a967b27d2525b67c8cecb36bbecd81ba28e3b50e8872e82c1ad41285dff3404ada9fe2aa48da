{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/joker/Desktop/ink/work/nft-holder/components/card.tsx\";\nimport { useRouter } from 'next/router';\nimport { Avatar, Carousel, Row, Col, Image, Button } from 'antd';\nimport { formatMoney } from 'accounting';\nimport IconFont from '../components/iconfont';\nimport styles from './card.module.css';\nexport default function Card({\n  data,\n  carousel = true,\n  photoPreview = false,\n  onCarouselChange,\n  type = 'default',\n  hideButton = false,\n  offerIcon = false,\n  transparentBackground = false,\n  onClick,\n  contentHeight,\n  thumbnailHeight,\n  arrows = false,\n  isShowPayBtn = false,\n  myOfferText\n}) {\n  var _data$quotedPrice, _data$quotedPrice2, _data$quotedPrice3, _data$quotedPrice4, _data$quotedPrice5, _data$quotedPrice6, _data$quotedPrice7;\n\n  const router = useRouter(); // const [currIndex, setcurrIndex] = useState(0)\n  // const [isShowArrow, setisShowArrow] = useState<boolean>(false)\n  // const [previewSrc, setpreviewSrc] = useState<string>('')\n  // const [previewSrcIndex, setpreviewSrcIndex] = useState<number>(0)\n\n  const afterChange = index => {\n    onCarouselChange && onCarouselChange(); // setcurrIndex(index)\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: () => onClick && data && onClick(data.id),\n    className: `card_item ${styles.card} ${type === 'simple' ? `${styles.simple}` : ''} ${offerIcon ? `${styles['offer-icon']}` : ''} ${onClick ? `${styles.click}` : ''} ${transparentBackground ? `${styles.transparent}` : ''}`,\n    children: [!data && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u6682\\u65E0\\u6570\\u636E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this), Boolean(type === 'my_offer') && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.my_offer_box,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.myOfferText,\n        children: myOfferText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.my_offer_price_box,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.my_offer_price,\n          children: [\"\\uFFE5\", data && ((_data$quotedPrice = data.quotedPrice) === null || _data$quotedPrice === void 0 ? void 0 : _data$quotedPrice.top)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), isShowPayBtn && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.pay_btn,\n          children: \"\\u652F\\u4ED8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: styles.my_offer_img,\n        src: '/left_top_hold_.png'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), data && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.box} ${type === 'simple' ? styles.simple : ''}`,\n        style: {\n          padding: carousel ? '' : 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.header,\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            className: styles.avatar,\n            src: data.creator.avatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.name,\n            children: data.creator.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.content,\n          style: {\n            height: contentHeight || '',\n            overflow: contentHeight ? 'hidden' : '',\n            paddingBottom: contentHeight ? '0' : ''\n          },\n          dangerouslySetInnerHTML: {\n            __html: data.content\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), data.thumbnails && data.thumbnails.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.photos} ${!carousel ? styles.float : ''}`,\n          style: {\n            height: thumbnailHeight || '',\n            marginTop: thumbnailHeight ? 0 : ''\n          },\n          children: [carousel && /*#__PURE__*/_jsxDEV(Carousel, {\n            draggable: true,\n            adaptiveHeight: true,\n            arrows: arrows,\n            prevArrow: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prev\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 32\n            }, this),\n            nextArrow: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 32\n            }, this),\n            dots: {\n              className: styles.dots\n            },\n            afterChange: afterChange,\n            children: data.thumbnails.map((src, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.photo,\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                width: \"100%\",\n                preview: // false\n                photoPreview ? {\n                  maskClassName: styles.mask\n                } : false,\n                src: src\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 25\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 19\n          }, this), !carousel && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: data.thumbnails.map((src, index) => {\n              var _data$thumbnails, _data$thumbnails2, _data$thumbnails3, _data$thumbnails4;\n\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.photo,\n                style: {\n                  width: data.thumbnails && ((_data$thumbnails = data.thumbnails) === null || _data$thumbnails === void 0 ? void 0 : _data$thumbnails.length) > 1 ? (data === null || data === void 0 ? void 0 : (_data$thumbnails2 = data.thumbnails) === null || _data$thumbnails2 === void 0 ? void 0 : _data$thumbnails2.length) > 2 ? data.thumbnails.length > 4 ? data.thumbnails.length > 6 ? 68 : 95 : 95 : 145 : '',\n                  height: data.thumbnails && ((_data$thumbnails3 = data.thumbnails) === null || _data$thumbnails3 === void 0 ? void 0 : _data$thumbnails3.length) > 1 ? (data === null || data === void 0 ? void 0 : (_data$thumbnails4 = data.thumbnails) === null || _data$thumbnails4 === void 0 ? void 0 : _data$thumbnails4.length) > 2 ? data.thumbnails.length > 4 ? data.thumbnails.length > 6 ? 68 : 95 : 95 : 145 : ''\n                },\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  preview: photoPreview,\n                  src: src\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 25\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.count,\n          style: {\n            paddingTop: contentHeight && data.thumbnails && data.thumbnails.length === 0 ? 46 : 35\n          },\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            gutter: 12,\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              children: [/*#__PURE__*/_jsxDEV(IconFont, {\n                size: 16,\n                type: \"iconzhuanfafenxiang\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.num,\n                children: data.repostsCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: [/*#__PURE__*/_jsxDEV(IconFont, {\n                size: 16,\n                type: \"iconpinglun\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.num,\n                children: data.commentsCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: [/*#__PURE__*/_jsxDEV(IconFont, {\n                size: 16,\n                type: \"iconzan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.num,\n                children: data.attitudesCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), type === 'default' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.users,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.u,\n          children: [\"Creator: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: data.creator.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }, this), data.holder && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.u,\n          children: [\"Holder: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: data.holder.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }, this), type === 'default' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.price,\n        children: [!((_data$quotedPrice2 = data.quotedPrice) !== null && _data$quotedPrice2 !== void 0 && _data$quotedPrice2.top) && !((_data$quotedPrice3 = data.quotedPrice) !== null && _data$quotedPrice3 !== void 0 && _data$quotedPrice3.low) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.empty,\n          children: \"- \\u6682\\u65E0\\u62A5\\u4EF7 -\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 17\n        }, this), ((_data$quotedPrice4 = data.quotedPrice) === null || _data$quotedPrice4 === void 0 ? void 0 : _data$quotedPrice4.top) && !((_data$quotedPrice5 = data.quotedPrice) !== null && _data$quotedPrice5 !== void 0 && _data$quotedPrice5.low) && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.txt,\n            children: \"\\uFF08\\u6700\\u9AD8\\u62A5\\u4EF7\\uFF09\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.big,\n            children: formatMoney(data.quotedPrice.top, '¥ ')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true), ((_data$quotedPrice6 = data.quotedPrice) === null || _data$quotedPrice6 === void 0 ? void 0 : _data$quotedPrice6.top) && ((_data$quotedPrice7 = data.quotedPrice) === null || _data$quotedPrice7 === void 0 ? void 0 : _data$quotedPrice7.low) && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${styles.line} ${styles.bold}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.txt,\n              children: \"\\uFF08\\u62A5\\u4EF7\\uFF09\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.p,\n              children: formatMoney(data.quotedPrice.top, '¥ ')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.line,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.txt,\n              children: \"\\uFF08\\u5E95\\u4EF7\\uFF09\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.p,\n              children: formatMoney(data.quotedPrice.low, '¥ ')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 13\n      }, this), type === 'default' && !hideButton && /*#__PURE__*/_jsxDEV(Button, {\n        className: styles.btn,\n        type: \"primary\",\n        block: true,\n        onClick: () => data && router.push(`/detail/${data.id}`),\n        children: \"\\u6211\\u8981\\u4E70\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/joker/Desktop/ink/work/nft-holder/components/card.tsx"],"names":["useRouter","Avatar","Carousel","Row","Col","Image","Button","formatMoney","IconFont","styles","Card","data","carousel","photoPreview","onCarouselChange","type","hideButton","offerIcon","transparentBackground","onClick","contentHeight","thumbnailHeight","arrows","isShowPayBtn","myOfferText","router","afterChange","index","id","card","simple","click","transparent","Boolean","my_offer_box","my_offer_price_box","my_offer_price","quotedPrice","top","pay_btn","my_offer_img","box","padding","header","avatar","creator","name","content","height","overflow","paddingBottom","__html","thumbnails","length","photos","float","marginTop","className","dots","map","src","photo","maskClassName","mask","width","count","paddingTop","num","repostsCount","commentsCount","attitudesCount","users","u","holder","price","low","empty","txt","big","line","bold","p","btn","push"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router'\nimport { Avatar, Carousel, Row, Col, Image, Button } from 'antd'\nimport { formatMoney } from 'accounting'\nimport IconFont from '../components/iconfont'\nimport { CardDataType } from '../typings/card'\nimport styles from './card.module.css'\n\nexport interface CardProps {\n  carousel?: boolean\n  photoPreview?: boolean\n  onCarouselChange?: () => void\n  onClick?: (id: string) => void\n  data?: CardDataType\n  type?: 'default' | 'simple' | 'my_offer'\n  hideButton?: boolean\n  offerIcon?: boolean\n  transparentBackground?: boolean\n  contentHeight?: number\n  thumbnailHeight?: number\n  arrows?: boolean\n  isShowPayBtn?: boolean\n  myOfferText?: string\n}\n\nexport default function Card({\n  data,\n  carousel = true,\n  photoPreview = false,\n  onCarouselChange,\n  type = 'default',\n  hideButton = false,\n  offerIcon = false,\n  transparentBackground = false,\n  onClick,\n  contentHeight,\n  thumbnailHeight,\n  arrows = false,\n  isShowPayBtn = false,\n  myOfferText\n}: CardProps) {\n  const router = useRouter()\n\n  // const [currIndex, setcurrIndex] = useState(0)\n\n  // const [isShowArrow, setisShowArrow] = useState<boolean>(false)\n\n  // const [previewSrc, setpreviewSrc] = useState<string>('')\n\n  // const [previewSrcIndex, setpreviewSrcIndex] = useState<number>(0)\n\n  const afterChange = (index: any) => {\n    onCarouselChange && onCarouselChange()\n    // setcurrIndex(index)\n  }\n\n  return (\n    <div\n      onClick={() => onClick && data && onClick(data.id)}\n      className={`card_item ${styles.card} ${type === 'simple' ? `${styles.simple}` : ''\n        } ${offerIcon ? `${styles['offer-icon']}` : ''} ${onClick ? `${styles.click}` : ''\n        } ${transparentBackground ? `${styles.transparent}` : ''}`}\n    >\n      {!data && <div>暂无数据</div>}\n\n      {Boolean(type === 'my_offer') && (\n        <div className={styles.my_offer_box}>\n          <div className={styles.myOfferText}>{myOfferText}</div>\n          <div className={styles.my_offer_price_box}>\n            <div className={styles.my_offer_price}>￥{data && data.quotedPrice?.top}</div>\n            {isShowPayBtn && <div className={styles.pay_btn}>支付</div>}\n          </div>\n          <img className={styles.my_offer_img} src={'/left_top_hold_.png'} />\n        </div>\n      )}\n\n      {data && (\n        <>\n          <div\n            className={`${styles.box} ${type === 'simple' ? styles.simple : ''\n              }`}\n            style={{\n              padding: carousel ? '' : 0\n            }}\n          >\n            <div className={styles.header}>\n              <Avatar className={styles.avatar} src={data.creator.avatar} />\n              <div className={styles.name}>{data.creator.name}</div>\n            </div>\n            <div\n              className={styles.content}\n              style={{\n                height: contentHeight || '',\n                overflow: contentHeight ? 'hidden' : '',\n                paddingBottom: contentHeight ? '0' : ''\n              }}\n              dangerouslySetInnerHTML={{\n                __html: data.content\n              }}\n            />\n            {data.thumbnails && data.thumbnails.length > 0 && (\n              <div\n                className={`${styles.photos} ${!carousel ? styles.float : ''}`}\n                style={{\n                  height: thumbnailHeight || '',\n                  marginTop: thumbnailHeight ? 0 : ''\n                }}\n              >\n                {/* {isShowArrow && [\n                  <div\n                    key={1}\n                    className={`${styles.left_arrow} ${styles.arrow}`}\n                  >\n                    <LeftOutlined />\n                  </div>,\n                  <div\n                    key={2}\n                    className={`${styles.right_arrow} ${styles.arrow}`}\n                    onClick={() => {\n                      let new_previewSrcIndex = previewSrcIndex + 1\n                      setpreviewSrcIndex(\n                        new_previewSrcIndex >= Number(data.thumbnails?.length)\n                          ? 0\n                          : new_previewSrcIndex\n                      )\n                      setpreviewSrc(\n                        data.thumbnails\n                          ? data.thumbnails[new_previewSrcIndex]\n                          : ''\n                      )\n                    }}\n                  >\n                    <RightOutlined />\n                  </div>\n                ]} */}\n\n                {carousel && (\n                  <Carousel\n                    draggable\n                    adaptiveHeight\n                    arrows={arrows}\n                    prevArrow={<div className=\"prev\"></div>}\n                    nextArrow={<div className=\"next\"></div>}\n                    dots={{ className: styles.dots }}\n                    afterChange={afterChange}\n                  >\n                    {/* {data.thumbnails.map((src, index) => {\n                      return (\n                        <div className={styles.photo} key={Math.random()}>\n                          {index == currIndex && (\n                            <Image.PreviewGroup>\n                              {data.thumbnails?.map((item, index2) => {\n                                console.log(currIndex, index2)\n\n                                return (\n                                  <Image\n                                    width=\"100%\"\n                                    style={{\n                                      display:\n                                        currIndex == index2\n                                          ? 'block'\n                                          : 'none !important'\n                                    }}\n                                    key={index + index2}\n                                    preview={{\n                                      mask: '预览',\n                                      visible: true,\n                                      onVisibleChange: (\n                                        visible,\n                                        prevVisible\n                                      ) => {\n                                        console.log(\n                                          visible,\n                                          prevVisible,\n                                          'visible, prevVisible'\n                                        )\n                                      }\n                                    }}\n                                    src={item}\n                                  />\n                                )\n                              })}\n                            </Image.PreviewGroup>\n                          )}\n                        </div>\n                      )\n                    })} */}\n\n                    {data.thumbnails.map((src, index) => (\n                      <div key={index} className={styles.photo}>\n                        <Image\n                          width=\"100%\"\n                          preview={\n                            // false\n                            photoPreview\n                              ? {\n                                maskClassName: styles.mask\n                              }\n                              : false\n                          }\n                          src={src}\n                        />\n                      </div>\n                    ))}\n                  </Carousel>\n                )}\n                {!carousel && (\n                  <>\n                    {data.thumbnails.map((src, index) => (\n                      <div\n                        key={index}\n                        className={styles.photo}\n                        style={{\n                          width:\n                            data.thumbnails && data.thumbnails?.length > 1\n                              ? data?.thumbnails?.length > 2\n                                ? data.thumbnails.length > 4\n                                  ? data.thumbnails.length > 6\n                                    ? 68\n                                    : 95\n                                  : 95\n                                : 145\n                              : '',\n                          height:\n                            data.thumbnails && data.thumbnails?.length > 1\n                              ? data?.thumbnails?.length > 2\n                                ? data.thumbnails.length > 4\n                                  ? data.thumbnails.length > 6\n                                    ? 68\n                                    : 95\n                                  : 95\n                                : 145\n                              : ''\n                        }}\n                      >\n                        <Image preview={photoPreview} src={src} />\n                      </div>\n                    ))}\n                    {/* <Image.PreviewGroup>\n                      <Image\n                        width={200}\n                        src=\"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg\"\n                      />\n                      <Image\n                        width={200}\n                        src=\"https://gw.alipayobjects.com/zos/antfincdn/aPkFc8Sj7n/method-draw-image.svg\"\n                      />\n                    </Image.PreviewGroup> */}\n                  </>\n                )}\n              </div>\n            )}\n            <div\n              className={styles.count}\n              style={{\n                paddingTop:\n                  contentHeight &&\n                    data.thumbnails &&\n                    data.thumbnails.length === 0\n                    ? 46\n                    : 35\n              }}\n            >\n              <Row gutter={12}>\n                <Col>\n                  <IconFont size={16} type=\"iconzhuanfafenxiang\" />\n                  <span className={styles.num}>{data.repostsCount}</span>\n                </Col>\n                <Col>\n                  <IconFont size={16} type=\"iconpinglun\" />\n                  <span className={styles.num}>{data.commentsCount}</span>\n                </Col>\n                <Col>\n                  <IconFont size={16} type=\"iconzan\" />\n                  <span className={styles.num}>{data.attitudesCount}</span>\n                </Col>\n              </Row>\n            </div>\n          </div>\n          {type === 'default' && (\n            <div className={styles.users}>\n              <div className={styles.u}>\n                Creator: <span>{data.creator.name}</span>\n              </div>\n              {data.holder && (\n                <div className={styles.u}>\n                  Holder: <span>{data.holder.name}</span>\n                </div>\n              )}\n            </div>\n          )}\n          {type === 'default' && (\n            <div className={styles.price}>\n              {!data.quotedPrice?.top && !data.quotedPrice?.low && (\n                <div className={styles.empty}>- 暂无报价 -</div>\n              )}\n              {data.quotedPrice?.top && !data.quotedPrice?.low && (\n                <>\n                  <div className={styles.txt}>（最高报价）</div>\n                  <div className={styles.big}>\n                    {formatMoney(data.quotedPrice.top, '¥ ')}\n                  </div>\n                </>\n              )}\n              {data.quotedPrice?.top && data.quotedPrice?.low && (\n                <>\n                  <div className={`${styles.line} ${styles.bold}`}>\n                    <div className={styles.txt}>（报价）</div>\n                    <div className={styles.p}>\n                      {formatMoney(data.quotedPrice.top, '¥ ')}\n                    </div>\n                  </div>\n                  <div className={styles.line}>\n                    <div className={styles.txt}>（底价）</div>\n                    <div className={styles.p}>\n                      {formatMoney(data.quotedPrice.low, '¥ ')}\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n          {type === 'default' && !hideButton && (\n            <Button\n              className={styles.btn}\n              type=\"primary\"\n              block\n              onClick={() => data && router.push(`/detail/${data.id}`)}\n            >\n              我要买\n            </Button>\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"export default async function fetchRecords(id, pageSize = 10, current = 1) {\n  const result = await fetch(`${process.env.API_BASE}/api/v1/blog/events?bid=${id}&pageSize=${pageSize}&current=${current}`);\n\n  if (!result.ok) {\n    const error = new Error(result.statusText);\n    error.info = await result.json();\n    error.status = result.status;\n    throw error;\n  }\n\n  return await result.json();\n}","map":{"version":3,"sources":["/Users/joker/Desktop/ink/work/nft-holder/lib/fetch-records.ts"],"names":["fetchRecords","id","pageSize","current","result","fetch","process","env","API_BASE","ok","error","Error","statusText","info","json","status"],"mappings":"AAUA,eAAe,eAAeA,YAAf,CACbC,EADa,EAEbC,QAAgB,GAAG,EAFN,EAGbC,OAAe,GAAG,CAHL,EAIW;AACxB,QAAMC,MAAM,GAAG,MAAMC,KAAK,CACvB,GAAEC,OAAO,CAACC,GAAR,CAAYC,QAAS,2BAA0BP,EAAG,aAAYC,QAAS,YAAWC,OAAQ,EADrE,CAA1B;;AAGA,MAAI,CAACC,MAAM,CAACK,EAAZ,EAAgB;AACd,UAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAUP,MAAM,CAACQ,UAAjB,CAAd;AACAF,IAAAA,KAAK,CAACG,IAAN,GAAa,MAAMT,MAAM,CAACU,IAAP,EAAnB;AACAJ,IAAAA,KAAK,CAACK,MAAN,GAAeX,MAAM,CAACW,MAAtB;AACA,UAAML,KAAN;AACD;;AACD,SAAO,MAAMN,MAAM,CAACU,IAAP,EAAb;AACD","sourcesContent":["export interface RecordsResult {\n  current: number\n  pageSize: number\n  list: any[] | null\n  ownerId?: string\n  ownerName?: string\n  creatorId?: string\n  creatorName?: string\n}\n\nexport default async function fetchRecords(\n  id: string,\n  pageSize: number = 10,\n  current: number = 1\n): Promise<RecordsResult> {\n  const result = await fetch(\n    `${process.env.API_BASE}/api/v1/blog/events?bid=${id}&pageSize=${pageSize}&current=${current}`\n  )\n  if (!result.ok) {\n    const error = new Error(result.statusText)\n    error.info = await result.json()\n    error.status = result.status\n    throw error\n  }\n  return await result.json()\n}\n"]},"metadata":{},"sourceType":"module"}